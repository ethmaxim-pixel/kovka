{
  "version": "5",
  "dialect": "mysql",
  "id": "713cc29b-0721-4e13-9f2f-fc5f47fd4e63",
  "prevId": "624659af-45f4-4a42-94ac-a54a7f78af7b",
  "tables": {
    "businessSettings": {
      "name": "businessSettings",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('string','number','boolean','json')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'string'"
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "settings_key_idx": {
          "name": "settings_key_idx",
          "columns": [
            "key"
          ],
          "isUnique": false
        },
        "settings_category_idx": {
          "name": "settings_category_idx",
          "columns": [
            "category"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "businessSettings_id": {
          "name": "businessSettings_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "businessSettings_key_unique": {
          "name": "businessSettings_key_unique",
          "columns": [
            "key"
          ]
        }
      },
      "checkConstraint": {}
    },
    "contactRequests": {
      "name": "contactRequests",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('new','processed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'new'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "contact_status_idx": {
          "name": "contact_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "contact_created_at_idx": {
          "name": "contact_created_at_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "contactRequests_id": {
          "name": "contactRequests_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "customerInteractions": {
      "name": "customerInteractions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "customerId": {
          "name": "customerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('call','message','email','order','visit','telegram','ai_chat')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "direction": {
          "name": "direction",
          "type": "enum('inbound','outbound')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'inbound'"
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "interaction_customer_idx": {
          "name": "interaction_customer_idx",
          "columns": [
            "customerId"
          ],
          "isUnique": false
        },
        "interaction_type_idx": {
          "name": "interaction_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "interaction_created_idx": {
          "name": "interaction_created_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "customerInteractions_customerId_customers_id_fk": {
          "name": "customerInteractions_customerId_customers_id_fk",
          "tableFrom": "customerInteractions",
          "tableTo": "customers",
          "columnsFrom": [
            "customerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "customerInteractions_id": {
          "name": "customerInteractions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "customers": {
      "name": "customers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "telegramId": {
          "name": "telegramId",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "telegramUsername": {
          "name": "telegramUsername",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "enum('website','telegram','phone','referral','other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'website'"
        },
        "segment": {
          "name": "segment",
          "type": "enum('new','regular','vip','inactive')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'new'"
        },
        "totalOrders": {
          "name": "totalOrders",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "totalSpent": {
          "name": "totalSpent",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "lastOrderAt": {
          "name": "lastOrderAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "customer_phone_idx": {
          "name": "customer_phone_idx",
          "columns": [
            "phone"
          ],
          "isUnique": false
        },
        "customer_telegram_idx": {
          "name": "customer_telegram_idx",
          "columns": [
            "telegramId"
          ],
          "isUnique": false
        },
        "customer_segment_idx": {
          "name": "customer_segment_idx",
          "columns": [
            "segment"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "customers_id": {
          "name": "customers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "customers_phone_unique": {
          "name": "customers_phone_unique",
          "columns": [
            "phone"
          ]
        }
      },
      "checkConstraint": {}
    },
    "financeAccounts": {
      "name": "financeAccounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('cash','bank','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'cash'"
        },
        "balance": {
          "name": "balance",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'RUB'"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "sortOrder": {
          "name": "sortOrder",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "finance_account_active_idx": {
          "name": "finance_account_active_idx",
          "columns": [
            "isActive"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "financeAccounts_id": {
          "name": "financeAccounts_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "financeCategories": {
      "name": "financeCategories",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('income','expense')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "color": {
          "name": "color",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'#6B7280'"
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isSystem": {
          "name": "isSystem",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "sortOrder": {
          "name": "sortOrder",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "finance_category_type_idx": {
          "name": "finance_category_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "finance_category_active_idx": {
          "name": "finance_category_active_idx",
          "columns": [
            "isActive"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "financeCategories_id": {
          "name": "financeCategories_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "orderItems": {
      "name": "orderItems",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "orderId": {
          "name": "orderId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "productName": {
          "name": "productName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "productArticle": {
          "name": "productArticle",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "productCategory": {
          "name": "productCategory",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price": {
          "name": "price",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "totalPrice": {
          "name": "totalPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "order_id_idx": {
          "name": "order_id_idx",
          "columns": [
            "orderId"
          ],
          "isUnique": false
        },
        "product_article_idx": {
          "name": "product_article_idx",
          "columns": [
            "productArticle"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "orderItems_orderId_orders_id_fk": {
          "name": "orderItems_orderId_orders_id_fk",
          "tableFrom": "orderItems",
          "tableTo": "orders",
          "columnsFrom": [
            "orderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "orderItems_id": {
          "name": "orderItems_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "orders": {
      "name": "orders",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "customerName": {
          "name": "customerName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "customerPhone": {
          "name": "customerPhone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('new','processing','completed','cancelled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'new'"
        },
        "totalAmount": {
          "name": "totalAmount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "itemsCount": {
          "name": "itemsCount",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "enum('website','offline')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'website'"
        },
        "customerId": {
          "name": "customerId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "paymentMethod": {
          "name": "paymentMethod",
          "type": "enum('cash','card','transfer','other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'cash'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "status_idx": {
          "name": "status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "created_at_idx": {
          "name": "created_at_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        },
        "source_idx": {
          "name": "source_idx",
          "columns": [
            "source"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "orders_customerId_customers_id_fk": {
          "name": "orders_customerId_customers_id_fk",
          "tableFrom": "orders",
          "tableTo": "customers",
          "columnsFrom": [
            "customerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "orders_id": {
          "name": "orders_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "productCategories": {
      "name": "productCategories",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "parentId": {
          "name": "parentId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "image": {
          "name": "image",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sortOrder": {
          "name": "sortOrder",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "category_slug_idx": {
          "name": "category_slug_idx",
          "columns": [
            "slug"
          ],
          "isUnique": false
        },
        "category_parent_idx": {
          "name": "category_parent_idx",
          "columns": [
            "parentId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "productCategories_id": {
          "name": "productCategories_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "productCategories_slug_unique": {
          "name": "productCategories_slug_unique",
          "columns": [
            "slug"
          ]
        }
      },
      "checkConstraint": {}
    },
    "products": {
      "name": "products",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "article": {
          "name": "article",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subcategory": {
          "name": "subcategory",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priceMin": {
          "name": "priceMin",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priceMax": {
          "name": "priceMax",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priceUnit": {
          "name": "priceUnit",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'шт'"
        },
        "materials": {
          "name": "materials",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dimensions": {
          "name": "dimensions",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "weight": {
          "name": "weight",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "productionTime": {
          "name": "productionTime",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "images": {
          "name": "images",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "stockStatus": {
          "name": "stockStatus",
          "type": "enum('in_stock','to_order')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'in_stock'"
        },
        "stockQuantity": {
          "name": "stockQuantity",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "minStockLevel": {
          "name": "minStockLevel",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "tags": {
          "name": "tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "product_article_idx": {
          "name": "product_article_idx",
          "columns": [
            "article"
          ],
          "isUnique": false
        },
        "product_category_idx": {
          "name": "product_category_idx",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "product_active_idx": {
          "name": "product_active_idx",
          "columns": [
            "isActive"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "products_id": {
          "name": "products_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "products_article_unique": {
          "name": "products_article_unique",
          "columns": [
            "article"
          ]
        }
      },
      "checkConstraint": {}
    },
    "siteContent": {
      "name": "siteContent",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "key": {
          "name": "key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "page": {
          "name": "page",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "section": {
          "name": "section",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "content_page_idx": {
          "name": "content_page_idx",
          "columns": [
            "page"
          ],
          "isUnique": false
        },
        "content_key_idx": {
          "name": "content_key_idx",
          "columns": [
            "key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "siteContent_id": {
          "name": "siteContent_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "siteContent_key_unique": {
          "name": "siteContent_key_unique",
          "columns": [
            "key"
          ]
        }
      },
      "checkConstraint": {}
    },
    "stockMovements": {
      "name": "stockMovements",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "productId": {
          "name": "productId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('arrival','departure')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "enum('purchase','sale','defect','return','correction','other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'purchase'"
        },
        "supplierName": {
          "name": "supplierName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "purchasePrice": {
          "name": "purchasePrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "stock_product_idx": {
          "name": "stock_product_idx",
          "columns": [
            "productId"
          ],
          "isUnique": false
        },
        "stock_type_idx": {
          "name": "stock_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "stock_date_idx": {
          "name": "stock_date_idx",
          "columns": [
            "date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stockMovements_productId_products_id_fk": {
          "name": "stockMovements_productId_products_id_fk",
          "tableFrom": "stockMovements",
          "tableTo": "products",
          "columnsFrom": [
            "productId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "stockMovements_id": {
          "name": "stockMovements_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "transactions": {
      "name": "transactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "type": {
          "name": "type",
          "type": "enum('income','expense')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "categoryId": {
          "name": "categoryId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "orderId": {
          "name": "orderId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "customerId": {
          "name": "customerId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "accountId": {
          "name": "accountId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "paymentMethod": {
          "name": "paymentMethod",
          "type": "enum('cash','card','transfer','other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'cash'"
        },
        "isAutomatic": {
          "name": "isAutomatic",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "transaction_type_idx": {
          "name": "transaction_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "transaction_category_idx": {
          "name": "transaction_category_idx",
          "columns": [
            "categoryId"
          ],
          "isUnique": false
        },
        "transaction_order_idx": {
          "name": "transaction_order_idx",
          "columns": [
            "orderId"
          ],
          "isUnique": false
        },
        "transaction_account_idx": {
          "name": "transaction_account_idx",
          "columns": [
            "accountId"
          ],
          "isUnique": false
        },
        "transaction_date_idx": {
          "name": "transaction_date_idx",
          "columns": [
            "date"
          ],
          "isUnique": false
        },
        "transaction_created_idx": {
          "name": "transaction_created_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transactions_categoryId_financeCategories_id_fk": {
          "name": "transactions_categoryId_financeCategories_id_fk",
          "tableFrom": "transactions",
          "tableTo": "financeCategories",
          "columnsFrom": [
            "categoryId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_orderId_orders_id_fk": {
          "name": "transactions_orderId_orders_id_fk",
          "tableFrom": "transactions",
          "tableTo": "orders",
          "columnsFrom": [
            "orderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_customerId_customers_id_fk": {
          "name": "transactions_customerId_customers_id_fk",
          "tableFrom": "transactions",
          "tableTo": "customers",
          "columnsFrom": [
            "customerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_accountId_financeAccounts_id_fk": {
          "name": "transactions_accountId_financeAccounts_id_fk",
          "tableFrom": "transactions",
          "tableTo": "financeAccounts",
          "columnsFrom": [
            "accountId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "transactions_id": {
          "name": "transactions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}